{% extends 'base.html.twig' %}

{% block title %}NatProd Research Database{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-sm-12">
            <canvas id="total" height="100px"></canvas>
        </div>
        <div class="col-sm-6">
            <canvas id="published" height="200px"></canvas>
        </div>
        <div class="col-sm-6">
            <canvas id="awards" height="200px"></canvas>
        </div>
        <div class="col-sm-6">
            <canvas id="local" height="200px"></canvas>
        </div>
        <div class="col-sm-6">
            <canvas id="international" height="200px"></canvas>
        </div>
        <div class="col-sm-12">
            <canvas id="natprod" height="100px"></canvas>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        var total = new Chart(document.getElementById('total').getContext('2d'), {
            type: 'bar',
            data: {
                labels: [{{ total|keys|join(',') }}],
                datasets: [{
                    label: 'Total Research',
                    data: [{{ total|join(',') }}],
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            }
        });

        var published = new Chart(document.getElementById('published').getContext('2d'), {
            type: 'bar',
            data: {
                labels: [{{ published|keys|join(',') }}],
                datasets: [{
                    label: 'Published Research',
                    data: [{{ published|join(',') }}],
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            }
        });

        var awards = new Chart(document.getElementById('awards').getContext('2d'), {
            type: 'bar',
            data: {
                labels: [{{ awards|keys|join(',') }}],
                datasets: [{
                    label: 'Research with Awards',
                    data: [{{ awards|join(',') }}],
                    backgroundColor: 'rgba(255, 206, 86, 0.2)',
                    borderColor: 'rgba(255, 206, 86, 1)',
                    borderWidth: 1
                }]
            }
        });

        var local = new Chart(document.getElementById('local').getContext('2d'), {
            type: 'bar',
            data: {
                labels: [2014,2015,2016,2013,2018,2017,2019],
                datasets: [{
                    label: 'Local',
                    data: [11,9,8,7,5,1,1],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            }
        });

        var international = new Chart(document.getElementById('international').getContext('2d'), {
            type: 'bar',
            data: {
                labels: [2015,2014,2016,2013,2018,2017,2019],
                datasets: [{
                    label: 'International',
                    data: [12,11,9,8,6,2,1],
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            }
        });

        var natprod = new Chart(document.getElementById('natprod').getContext('2d'), {
            type: 'bar',
            data: {
                labels: ['Plant','Fungi','Bacteria','Marine','Animal'],
                datasets: [{
                    label: 'Natural Products',
                    data: [59,3,2,2,1],
                    backgroundColor: 'rgba(103, 202, 155, 0.2)',
                    borderColor: 'rgba(103, 202, 155, 1)',
                    borderWidth: 1
                }]
            }
        });
    </script>
{% endblock %}